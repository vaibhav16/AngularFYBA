<div class="container paddingBottom50" *ngIf="officialService.reportGameJson != null && dss.initialFetchError!=true">
   <div *ngIf="
      (officialService.reportGameJson.Value != null &&
      officialService.reportGameJson.Value.length > 0) ||
      officialService.reportGameJson.Value.GameList.length;
      else noRecordDiv
      " class="row">
      <div class="col-lg-12">
         <h1 class="mainDate"><strong>Games to Report</strong></h1>
         <div class="data_module">
            <ngb-accordion #acc="ngbAccordion" (panelChange)="panelChange($event)">
               <ngb-panel *ngFor="
               let item of officialService.reportGameJson.Value.GameList;
               let gameListIndex = index" id={{gameListIndex}}>
                  <ng-template ngbPanelTitle>
                     <div class="{{ item.GameReported }} HeadCollapse" class="HeadCollapse seemant">
                        <h2>
                           <div class="leftReportDate"
                              [ngStyle]="{ width: item.IncentiveText.length>0 ? '100%' : '100%' }">
                              <div>
                                 {{ item.GameName }}
                                 <img class="report_status"
                                    *ngIf="item.IsScoreFilled && item.OfficiatingPositionId == 3"
                                    src="assets/images/tick.png">
                                 <img class="report_status"
                                    *ngIf="!item.IsScoreFilled && item.OfficiatingPositionId == 3"
                                    src="assets/images/error.png">
                              </div>
                              <div class="customSpan">
                                 <span class="">
                                    {{ item.GameDate }} @{{ item.Location }} @
                                    {{ item.GameStartTime }}
                                 </span>
                                 <span> Game ID: {{item.GameId}}</span>
                                 <span class="asCoach">{{ item.PositionText }}
                                    <span class="earnMore">{{ item.IncentiveText }}</span>
                                 </span>
                              </div>
                           </div>
                        </h2>
                     </div>
                  </ng-template>
                  <ng-template ngbPanelContent>
<<<<<<< HEAD
                     <form #reportForm="ngForm">
                        <div class="fms_time">
                           <div>
                              <ul class="reportlist">
                                 <li>Final Team Scores</li>
                              </ul>
                              <div class="bgGrey inputfull">
                                 <div class="row">
                                    <div class="col-md-12">
                                       <div class="overflowAuto widthTableAuto">
                                          <table class="scoreTable marginTop10 widthTable leftAlign" cellspacing="0"
                                             cellpadding="0" border="0" width="100%">
                                             <thead>
                                                <tr>
                                                   <th>Team Name</th>
                                                   <th>Final Score</th>
                                                   <!-- <th>Forfeit</th> -->
                                                </tr>
                                             </thead>
                                             <tbody>
                                                <tr>
                                                   <td>{{ item.HomeTeam }}</td>
                                                   <td>
                                                      <input type="text" 
                                                      name="HTeamScore" style="width:40px"
                                                      [disabled]="item.OfficiatingPositionId != 3 ||
                                                      item.IsHomeForfeit || item.IsVisitorForfeit" 
                                                      [(ngModel)]="item.HomeTeamScore"
                                                      value="{{ item.HomeTeamScore }}" 
                                                      (change)="dataChanged()" />
                                                   </td>
                                                   <!-- <td>
                                                      <input type="checkbox" name="homeForfeit"
                                                       [value]="item.IsHomeForfeit"
                                                       (ngModelChange)="homeForfeitToggle($event, gameListIndex)"                                                                                                                                                      
                                                       [(ngModel)]="item.IsHomeForfeit">
                                                   </td> -->
                                                </tr>
                                                <tr>
                                                   <td>{{ item.VisitingTeam }}</td>
                                                   <td>
                                                      <input type="text" name="VTeamScore" style="width:40px"
                                                         [disabled]="item.OfficiatingPositionId != 3 ||
                                                         item.IsHomeForfeit || item.IsVisitorForfeit" 
                                                         [(ngModel)]="item.VisitingTeamScore"
                                                         value="{{ item.VisitingTeamScore }}" 
                                                         (change)="dataChanged()" />
                                                   </td>
                                                   <!-- <td>
                                                      <input type="checkbox" name="visitingForfeit" 
                                                      [value]="item.IsVisitorForfeit"
                                                      (ngModelChange)="visitorfeitToggle($event, gameListIndex)"                                                                                                 
                                                      [(ngModel)]="item.IsVisitorForfeit">
                                                   </td> -->
                                                </tr>
                                             </tbody>
                                          </table>
                                       </div>
                                    </div>
                                 </div>
                              </div>
                           </div>
                        </div>
                        <div class="marginTop10">
                           <ul class="reportlist">
                              <li>Individual Stats</li>
                           </ul>
                           <div class="bgGrey">
                              <div class="row">
                                 <div class="col-md-12">
                                    <h2>
                                       <strong>({{ item.Division }}) {{ item.HomeTeam }}</strong>
                                    </h2>
                                    <div class="overflowAuto">
                                       <table class="scoreTable marginTop10 widthTable" cellspacing="0" cellpadding="0"
                                          border="0" width="100%">
                                          <thead>
                                             <tr>
                                                <th width="5%">#</th>
                                                <th width="58%">Name</th>
                                                <th width="13%">
                                                   NP
                                                   <div class="tooltip_abc">
                                                      <img class="info_icon" src="../../assets/images/info-icon.png" />
                                                      <span class="tooltiptext tooltip-top">Not Present</span>
                                                   </div>
                                                </th>
                                                <th width="13%">
                                                   PON
                                                   <div class="tooltip_abc">
                                                      <img class="info_icon" src="../../assets/images/info-icon.png" />
                                                      <span class="tooltiptext tooltip-top">Player Of Note</span>
                                                   </div>
                                                </th>
                                                <th width="11%">
                                                   PTS
                                                   <div class="tooltip_abc">
                                                      <img class="info_icon" src="../../assets/images/info-icon.png" />
                                                      <span class="tooltiptext tooltip-top">Points Scored</span>
                                                   </div>
                                                </th>
                                             </tr>
                                          </thead>
                                          <tbody>
                                             <tr *ngFor="let child of item.HomeTeamPlayerScores;let i = index">                                              
                                               
                                                <td>{{ child.JersyNumber }}</td>

                                                <td style="display:none">
                                                   <input type="number" value="child.GameId"
                                                   name="HGameId{{ i }}" [(ngModel)]="child.GameId" />
                                                </td>

                                                <td style="display:none">
                                                   <input type="text" value="child.PlayerName" 
                                                   name="HPlayerName{{ i }}" [(ngModel)]="child.PlayerName" />
                                                </td>

                                                <td style="display:none">
                                                   <input type="number" value="child.PlayerSeasonalId" 
                                                   name="HPlayerSeasonalId{{ i }}" [(ngModel)]="child.PlayerSeasonalId" />
                                                </td>

                                                <td style="display:none">
                                                   <input type="number" value="child.FoulId" 
                                                   name="HFoulId{{ i }}" [(ngModel)]="child.FoulId" />
                                                </td>

                                                <td style="display:none">
                                                   <input type="number" value="child.TeamId" 
                                                   name="HTeamId{{ i }}" [(ngModel)]="child.TeamId" />
                                                </td>

                                                <td style="text-align:left;">
                                                   <span value="child.PlayerName">{{
                                                      child.PlayerName
                                                      }}</span>
                                                </td>
                                                <td>
                                                   <input type="checkbox"                                                  
                                                   
                                                   [disabled]="!(item.OfficiatingPositionId == 3)
                                                   || item.IsHomeForfeit || item.IsVisitorForfeit"

                                                   name="HNotPresent{{ i }}" 
                                                   
                                                   [ngModel]="child.NotPresent"
                                                   
                                                   (change)="child.NotPresent= !child.NotPresent"        
                                                   
                                                   (click)="dataChanged()"
                                                   />
                                                </td>
                                                <td>
                                                   <input

                                                   type="checkbox" 
                                                   
                                                   id="HPlayerofNote{{ i }}" 
                                                   
                                                   [disabled]="!(item.OfficiatingPositionId == 3) || 
                                                   child.NotPresent || item.IsHomeForfeit || item.IsVisitorForfeit"
                                                      
                                                   [ngModel]="child.PlayerNote && !child.NotPresent"  
                                                   
                                                   (change)="child.PlayerNote=!child.PlayerNote"
                                                   
                                                   name="HPlayerNote{{ i }}"   

                                                   (click)="dataChanged()"
                                                   />

                                                </td>
                                                <td>
                                                   <input type="number" 
                                                   
                                                   id="HPoints{{ i }}" 
                                                   
                                                   (input)="inputValidator($event)"
                                                   
                                                   [maxlength]="3" value="child.Points"
                                                   
                                                   [disabled]="!(item.OfficiatingPositionId == 3) ||
                                                   child.NotPresent || item.IsHomeForfeit || item.IsVisitorForfeit"

                                                   pattern="[0-9]*" min="0" max="999" name="HPoints{{ i }}"
                                                   
                                                   [(ngModel)]="child.Points" />
                                                </td>
                                             </tr>
                                          </tbody>
                                       </table>
                                    </div>
                                 </div>
                              </div>
                              <div class="row marginTop20">
                                 <div class="col-md-12">
                                    <h2>
                                       <strong>({{ item.Division }})
                                          {{ item.VisitingTeam }}</strong>
                                    </h2>
                                    <div class="overflowAuto">
                                       <table class="scoreTable marginTop10 widthTable" 
                                       cellspacing="0" cellpadding="0" border="0" width="100%">
                                          <thead>
                                             <tr>
                                                <th width="5%">#</th>
                                                <th width="58%">Name</th>
                                                <th width="13%">NP</th>
                                                <th width="13%">PON</th>
                                                <th width="11%">PTS</th>
                                             </tr>
                                          </thead>
                                          <tbody>
                                             <tr *ngFor="
                                             let child of item.VisitingTeamPlayerScores;
                                             let i = index
                                             ">
                                                <td style="display:none">
                                                   <input type="number" 
                                                   value="child.GameId" 
                                                   name="VGameId{{ i }}" 
                                                   [(ngModel)]="child.GameId" />
                                                </td>

                                                <td style="display:none">
                                                   <input type="text" value="child.PlayerName"
                                                    name="VPlayerName{{ i }}"
                                                    [(ngModel)]="child.PlayerName" />
                                                </td>

                                                <td style="display:none">
                                                   <input type="number" value="child.PlayerSeasonalId" 
                                                   name="VPlayerSeasonalId{{ i }}"
                                                   [(ngModel)]="child.PlayerSeasonalId" />
                                                </td>
                                                
                                                <td style="display:none">
                                                   <input type="number" value="child.FoulId" 
                                                   name="VFoulId{{ i }}"
                                                   [(ngModel)]="child.FoulId" />
                                                </td>

                                                <td style="display:none">
                                                   <input type="number" value="child.TeamId" 
                                                   name="VTeamId{{ i }}"
                                                   [(ngModel)]="child.TeamId" />
                                                </td>

                                                <td>{{ child.JersyNumber }}</td>

                                                <td style="text-align:left;">
                                                   {{ child.PlayerName }}
                                                </td>

                                                <td>
                                                   <input type="checkbox" 
=======
                     
                     <app-gamelist-form [gameData]="item" [gameIndex]="gameListIndex" >
>>>>>>> 54df015a226384c323d27b8689f5ca08af8e1017

                     </app-gamelist-form>

                  </ng-template>
               </ngb-panel>
            </ngb-accordion>
         </div>
      </div>
   </div>
   <ng-template #noRecordDiv>
      <div class="noRecordsBlack">No games to report</div>
   </ng-template>
</div>


<!--Loader-->
<app-fybaloader *ngIf="officialService.reportRequest"></app-fybaloader>
<!--Loader-->

<div *ngIf="dss.initialFetchError" #serverError>
   <div class="noRecords">
      <span *ngIf="!this.officialService.timeoutError" class="spanError">Server Error</span> 
      <span *ngIf="this.officialService.timeoutError"  class="spanError">Timeout Error</span> 
      Please try again later!
   </div>
</div>
<notifier-container>
</notifier-container>